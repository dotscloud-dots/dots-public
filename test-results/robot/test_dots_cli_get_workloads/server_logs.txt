[2025-07-16T15:37:45Z DEBUG dotops] No config file found at default path '/etc/dots/dotctl-dotops.conf'. Using cli arguments and environment variables only.
[2025-07-16T15:37:45Z DEBUG dotops] Starting the Dots dotops with 
    	dotops address: '127.0.0.1:25551', 
    	startup manifest path: '/__w/dot/dot/tests/resources/configs/default.yaml'
[2025-07-16T15:37:45Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'sleepy' as no config is assigned to the workload
[2025-07-16T15:37:45Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello1' as no config is assigned to the workload
[2025-07-16T15:37:45Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello2' as no config is assigned to the workload
[2025-07-16T15:37:45Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello3' as no config is assigned to the workload
[2025-07-16T15:37:45Z INFO  dotops::dots_server] Starting...
[2025-07-16T15:37:45Z DEBUG dotops::dots_server] Start listening to agents...
[2025-07-16T15:37:45Z WARN  grpc::server] !!!DOTOPS IS STARTED IN INSECURE MODE (-k, --insecure) -> TLS is disabled!!!
[2025-07-16T15:37:45Z INFO  grpc::from_server_proxy] Agent agent_B not found, workloads not sent. Waiting for dot to connect.
[2025-07-16T15:37:45Z INFO  grpc::from_server_proxy] Agent agent_A not found, workloads not sent. Waiting for dot to connect.
[2025-07-16T15:37:45Z INFO  dotops::dots_server] Received AgentHello from 'agent_B'
[2025-07-16T15:37:45Z DEBUG dotops::dots_server] Sending initial UpdateWorkloadState to dot 'agent_B' with workload states: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "sleepy", id: "7cde312752495ad045a9ba6700a3e2ca8a4ae479ebdc1b8e8114fec650e3c7cc" }, execution_state: ExecutionState { state: Pending(Initial), additional_info: "" } }]'
[2025-07-16T15:37:45Z DEBUG dotops::dots_server] Sending initial ServerHello to dot 'agent_B' with added workloads: '[WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello2", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandArgs: [ \"echo\", \"Hello Dots\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }, WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello1", id: "5676c8c1df635eac92773965b4e8366bea6e7d1155b81229d936a795bab28618" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandOptions: [ \"--rm\"]\ncommandArgs: [ \"echo\", \"Hello Dots\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }, WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello3", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandArgs: [ \"echo\", \"Hello Dots\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }]'
[2025-07-16T15:37:45Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8aa7573d-56d9-462c-b46a-2e08cb0654cf) open.
[2025-07-16T15:37:45Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-8aa7573d-56d9-462c-b46a-2e08cb0654cf'
[2025-07-16T15:37:45Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-8aa7573d-56d9-462c-b46a-2e08cb0654cf@bc13c9ca-21e0-48d3-aac5-936c09a08a61' and field mask: '[]'
[2025-07-16T15:37:45Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8aa7573d-56d9-462c-b46a-2e08cb0654cf) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:45Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8aa7573d-56d9-462c-b46a-2e08cb0654cf) has been closed.
[2025-07-16T15:37:45Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello1", id: "5676c8c1df635eac92773965b4e8366bea6e7d1155b81229d936a795bab28618" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:37:45Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello3", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:37:45Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello2", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello2", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8e7d448a-4ce2-4e74-8576-fc6b88e4d34a) open.
[2025-07-16T15:37:46Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-8e7d448a-4ce2-4e74-8576-fc6b88e4d34a'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-8e7d448a-4ce2-4e74-8576-fc6b88e4d34a@600abd19-9ec0-4043-b4b4-bce26e8f570c' and field mask: '[]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8e7d448a-4ce2-4e74-8576-fc6b88e4d34a) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8e7d448a-4ce2-4e74-8576-fc6b88e4d34a) has been closed.
[2025-07-16T15:37:46Z INFO  dotops::dots_server] Received AgentHello from 'agent_A'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Sending initial UpdateWorkloadState to dot 'agent_A' with workload states: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello1", id: "5676c8c1df635eac92773965b4e8366bea6e7d1155b81229d936a795bab28618" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }, WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello3", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }, WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello2", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Sending initial ServerHello to dot 'agent_A' with added workloads: '[WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "sleepy", id: "7cde312752495ad045a9ba6700a3e2ca8a4ae479ebdc1b8e8114fec650e3c7cc" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/sleepy:latest\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }]'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello1", id: "5676c8c1df635eac92773965b4e8366bea6e7d1155b81229d936a795bab28618" }, execution_state: ExecutionState { state: Failed(Lost), additional_info: "" } }]'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello3", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Succeeded(Ok), additional_info: "" } }]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-b651decb-382d-4765-989c-dca554570f9e) open.
[2025-07-16T15:37:46Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-b651decb-382d-4765-989c-dca554570f9e'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-b651decb-382d-4765-989c-dca554570f9e@06f61b3e-6b10-45fc-8e6c-efc2c7d2809e' and field mask: '[]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-b651decb-382d-4765-989c-dca554570f9e) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-b651decb-382d-4765-989c-dca554570f9e) has been closed.
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "sleepy", id: "7cde312752495ad045a9ba6700a3e2ca8a4ae479ebdc1b8e8114fec650e3c7cc" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "sleepy", id: "7cde312752495ad045a9ba6700a3e2ca8a4ae479ebdc1b8e8114fec650e3c7cc" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_B", workload_name: "hello2", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Succeeded(Ok), additional_info: "" } }]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9ce89a8c-36ba-4e66-8957-cf24a37765c9) open.
[2025-07-16T15:37:46Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-9ce89a8c-36ba-4e66-8957-cf24a37765c9'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-9ce89a8c-36ba-4e66-8957-cf24a37765c9@272286a9-5657-49bf-851f-92980b3ec1c8' and field mask: '[]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9ce89a8c-36ba-4e66-8957-cf24a37765c9) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9ce89a8c-36ba-4e66-8957-cf24a37765c9) has been closed.
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-039ff2c3-4229-4ee0-bed4-704e8a179dd5) open.
[2025-07-16T15:37:46Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-039ff2c3-4229-4ee0-bed4-704e8a179dd5'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-039ff2c3-4229-4ee0-bed4-704e8a179dd5@fd30b9d2-9ad9-44c2-b62d-a02980d8135c' and field mask: '[]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-039ff2c3-4229-4ee0-bed4-704e8a179dd5) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-039ff2c3-4229-4ee0-bed4-704e8a179dd5) has been closed.
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-fb0f8fba-ddd5-41c6-9512-f425e0577b2c) open.
[2025-07-16T15:37:46Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-fb0f8fba-ddd5-41c6-9512-f425e0577b2c'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-fb0f8fba-ddd5-41c6-9512-f425e0577b2c@36c4c515-6243-4faa-ab69-1d01a17eb188' and field mask: '[]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-fb0f8fba-ddd5-41c6-9512-f425e0577b2c) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-fb0f8fba-ddd5-41c6-9512-f425e0577b2c) has been closed.
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-de3d3055-adc7-4646-be90-debfa6ba85b0) open.
[2025-07-16T15:37:46Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-de3d3055-adc7-4646-be90-debfa6ba85b0'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-de3d3055-adc7-4646-be90-debfa6ba85b0@1080bb70-ca9d-469a-8c6e-4e49488af754' and field mask: '[]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-de3d3055-adc7-4646-be90-debfa6ba85b0) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-de3d3055-adc7-4646-be90-debfa6ba85b0) has been closed.
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-98f46bb0-11e7-430a-9a80-4a536c7d00e5) open.
[2025-07-16T15:37:46Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-98f46bb0-11e7-430a-9a80-4a536c7d00e5'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-98f46bb0-11e7-430a-9a80-4a536c7d00e5@73c1ffe8-3466-4706-8f70-e80a2b92a7f1' and field mask: '[]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-98f46bb0-11e7-430a-9a80-4a536c7d00e5) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-98f46bb0-11e7-430a-9a80-4a536c7d00e5) has been closed.
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9dbf84dd-6906-4841-be0a-d1b8f10793f0) open.
[2025-07-16T15:37:46Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-9dbf84dd-6906-4841-be0a-d1b8f10793f0'
[2025-07-16T15:37:46Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-9dbf84dd-6906-4841-be0a-d1b8f10793f0@fda6282d-b79a-4821-b770-37cf244ad545' and field mask: '[]'
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9dbf84dd-6906-4841-be0a-d1b8f10793f0) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:46Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9dbf84dd-6906-4841-be0a-d1b8f10793f0) has been closed.
