[2025-07-16T15:36:27Z DEBUG dotops] No config file found at default path '/etc/dots/dotctl-dotops.conf'. Using cli arguments and environment variables only.
[2025-07-16T15:36:27Z DEBUG dotops] Starting the Dots dotops with 
    	dotops address: '127.0.0.1:25551', 
    	startup manifest path: '/__w/dot/dot/tests/resources/configs/default_with_config.yaml'
[2025-07-16T15:36:27Z WARN  grpc::server] !!!DOTOPS IS STARTED IN INSECURE MODE (-k, --insecure) -> TLS is disabled!!!
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello2' as no config is assigned to the workload
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'sleepy' as no config is assigned to the workload
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello3' as no config is assigned to the workload
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello1' as no config is assigned to the workload
[2025-07-16T15:36:27Z INFO  dotops::dots_server] Starting...
[2025-07-16T15:36:27Z DEBUG dotops::dots_server] Start listening to agents...
[2025-07-16T15:36:27Z INFO  grpc::from_server_proxy] Agent agent_B not found, workloads not sent. Waiting for dot to connect.
[2025-07-16T15:36:27Z INFO  grpc::from_server_proxy] Agent agent_A not found, workloads not sent. Waiting for dot to connect.
[2025-07-16T15:36:27Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-69005a1d-5eff-4a5e-b9a9-0b4d1e9eca1c) open.
[2025-07-16T15:36:27Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-69005a1d-5eff-4a5e-b9a9-0b4d1e9eca1c'
[2025-07-16T15:36:27Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-69005a1d-5eff-4a5e-b9a9-0b4d1e9eca1c@2edbd1e1-4426-4d7b-8c56-cb44f63f0d90' and field mask: '[]'
[2025-07-16T15:36:27Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-69005a1d-5eff-4a5e-b9a9-0b4d1e9eca1c) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:27Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-69005a1d-5eff-4a5e-b9a9-0b4d1e9eca1c) has been closed.
[2025-07-16T15:36:27Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-d019bd92-117c-4a22-82d5-3254f90180c1) open.
[2025-07-16T15:36:27Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-d019bd92-117c-4a22-82d5-3254f90180c1'
[2025-07-16T15:36:27Z DEBUG grpc::to_server_proxy] Received UpdateStateRequest from 'cli-conn-d019bd92-117c-4a22-82d5-3254f90180c1'
[2025-07-16T15:36:27Z DEBUG dotops::dots_server] Received UpdateState. State 'CompleteState { desired_state: State { api_version: "v0.1", workloads: {}, configs: {} }, workload_states: WorkloadStatesMap({}), agents: AgentMap({}) }', update mask '["desiredState.configs.config_1"]'
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello3' as no config is assigned to the workload
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'sleepy' as no config is assigned to the workload
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello1' as no config is assigned to the workload
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'hello2' as no config is assigned to the workload
[2025-07-16T15:36:27Z DEBUG dotops::dots_server] The current state and new state are identical -> nothing to do
[2025-07-16T15:36:27Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-d019bd92-117c-4a22-82d5-3254f90180c1) has been closed.
[2025-07-16T15:36:27Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-12be3104-7fd7-4f95-af18-04aab7bf808f) open.
[2025-07-16T15:36:27Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-12be3104-7fd7-4f95-af18-04aab7bf808f'
[2025-07-16T15:36:27Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-12be3104-7fd7-4f95-af18-04aab7bf808f@7ef19842-3676-43dc-b843-eb7b25da0a40' and field mask: '["desiredState.configs"]'
[2025-07-16T15:36:27Z DEBUG dotops::dots_server::server_state] Current state: Object { data: Mapping {"desiredState": Mapping {"apiVersion": String("v0.1"), "workloads": Mapping {"sleepy": Mapping {"agent": String("agent_A"), "restartPolicy": Number(0), "dependencies": Mapping {}, "tags": Sequence [Mapping {"key": String("owner"), "value": String("Dots team")}], "runtime": String("podman"), "runtimeConfig": String("image: dotscloud/sleepy:latest\n"), "controlInterfaceAccess": Null, "configs": Mapping {}, "files": Mapping {"files": Sequence []}}, "hello3": Mapping {"agent": String("agent_B"), "restartPolicy": Number(0), "dependencies": Mapping {}, "tags": Sequence [Mapping {"key": String("owner"), "value": String("Dots team")}], "runtime": String("podman"), "runtimeConfig": String("image: dotscloud/nginx:latest\ncommandArgs: [ \"echo\", \"Hello Dots\"]\n"), "controlInterfaceAccess": Null, "configs": Mapping {}, "files": Mapping {"files": Sequence []}}, "hello1": Mapping {"agent": String("agent_B"), "restartPolicy": Number(0), "dependencies": Mapping {}, "tags": Sequence [Mapping {"key": String("owner"), "value": String("Dots team")}], "runtime": String("podman"), "runtimeConfig": String("image: dotscloud/nginx:latest\ncommandOptions: [ \"--rm\"]\ncommandArgs: [ \"echo\", \"Hello Dots\"]\n"), "controlInterfaceAccess": Null, "configs": Mapping {}, "files": Mapping {"files": Sequence []}}, "hello2": Mapping {"agent": String("agent_B"), "restartPolicy": Number(0), "dependencies": Mapping {}, "tags": Sequence [Mapping {"key": String("owner"), "value": String("Dots team")}], "runtime": String("podman"), "runtimeConfig": String("image: dotscloud/nginx:latest\ncommandArgs: [ \"echo\", \"Hello Dots\"]\n"), "controlInterfaceAccess": Null, "configs": Mapping {}, "files": Mapping {"files": Sequence []}}}, "configs": Mapping {"config_2": Mapping {"access_port": String("8081")}}}, "workloadStates": Mapping {"agent_B": Mapping {"hello1": Mapping {"5676c8c1df635eac92773965b4e8366bea6e7d1155b81229d936a795bab28618": Mapping {"additionalInfo": String(""), "pending": Number(0)}}, "hello3": Mapping {"3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e": Mapping {"additionalInfo": String(""), "pending": Number(0)}}, "hello2": Mapping {"3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e": Mapping {"additionalInfo": String(""), "pending": Number(0)}}}, "agent_A": Mapping {"sleepy": Mapping {"7cde312752495ad045a9ba6700a3e2ca8a4ae479ebdc1b8e8114fec650e3c7cc": Mapping {"additionalInfo": String(""), "pending": Number(0)}}}}, "agents": Null} }
[2025-07-16T15:36:27Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-12be3104-7fd7-4f95-af18-04aab7bf808f) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:27Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-12be3104-7fd7-4f95-af18-04aab7bf808f) has been closed.
