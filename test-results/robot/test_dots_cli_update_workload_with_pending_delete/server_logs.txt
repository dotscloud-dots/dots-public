[2025-07-16T15:53:33Z DEBUG dotops] No config file found at default path '/etc/dots/dotctl-dotops.conf'. Using cli arguments and environment variables only.
[2025-07-16T15:53:33Z DEBUG dotops] Starting the Dots dotops with 
    	dotops address: '127.0.0.1:25551', 
    	startup manifest path: '/__w/dot/dot/tests/resources/configs/update_workloads_pending_delete.yaml'
[2025-07-16T15:53:33Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'frontend' as no config is assigned to the workload
[2025-07-16T15:53:33Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'backend' as no config is assigned to the workload
[2025-07-16T15:53:33Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'init_backend' as no config is assigned to the workload
[2025-07-16T15:53:33Z INFO  dotops::dots_server] Starting...
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Start listening to agents...
[2025-07-16T15:53:33Z WARN  grpc::server] !!!DOTOPS IS STARTED IN INSECURE MODE (-k, --insecure) -> TLS is disabled!!!
[2025-07-16T15:53:33Z INFO  grpc::from_server_proxy] Agent agent_A not found, workloads not sent. Waiting for dot to connect.
[2025-07-16T15:53:33Z INFO  dotops::dots_server] Received AgentHello from 'agent_A'
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] No workload states to send.
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Sending initial ServerHello to dot 'agent_A' with added workloads: '[WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "init_backend", id: "8127cd601a086390da75e0900a473ba32a0cbc32b2d7a7a82d79da50bfd23e4c" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandArgs: [\"echo\", \"init_backend\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }, WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {"backend": AddCondRunning}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandOptions: [\"-p\", \"8083:80\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }, WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {"init_backend": AddCondSucceeded}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandOptions: [\"-p\", \"8082:80\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }]'
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-88e96438-0c41-4a22-b22d-b243533c516e) open.
[2025-07-16T15:53:33Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-88e96438-0c41-4a22-b22d-b243533c516e'
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-88e96438-0c41-4a22-b22d-b243533c516e@12455a30-6cc2-4de1-bdd3-b872e5e2065a' and field mask: '[]'
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-88e96438-0c41-4a22-b22d-b243533c516e) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-88e96438-0c41-4a22-b22d-b243533c516e) has been closed.
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Pending(WaitingToStart), additional_info: "" } }]'
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Pending(WaitingToStart), additional_info: "" } }]'
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "init_backend", id: "8127cd601a086390da75e0900a473ba32a0cbc32b2d7a7a82d79da50bfd23e4c" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6e526030-01b7-4da2-9de7-6fa4d6b39ce7) open.
[2025-07-16T15:53:33Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-6e526030-01b7-4da2-9de7-6fa4d6b39ce7'
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-6e526030-01b7-4da2-9de7-6fa4d6b39ce7@8a78f8f4-e198-4a60-82e0-85befaed9727' and field mask: '[]'
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6e526030-01b7-4da2-9de7-6fa4d6b39ce7) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6e526030-01b7-4da2-9de7-6fa4d6b39ce7) has been closed.
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "init_backend", id: "8127cd601a086390da75e0900a473ba32a0cbc32b2d7a7a82d79da50bfd23e4c" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-08441c39-7740-47b3-b611-c488fae92d5c) open.
[2025-07-16T15:53:33Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-08441c39-7740-47b3-b611-c488fae92d5c'
[2025-07-16T15:53:33Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-08441c39-7740-47b3-b611-c488fae92d5c@49ec57de-c595-4f57-969a-a594a5c55e60' and field mask: '[]'
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-08441c39-7740-47b3-b611-c488fae92d5c) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-08441c39-7740-47b3-b611-c488fae92d5c) has been closed.
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-74a8f5bb-e4fd-4e2c-89b0-d2daad470a6f) open.
[2025-07-16T15:53:34Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-74a8f5bb-e4fd-4e2c-89b0-d2daad470a6f'
[2025-07-16T15:53:34Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-74a8f5bb-e4fd-4e2c-89b0-d2daad470a6f@1fa98e89-e0b0-4ee1-8f41-07f729604bf9' and field mask: '[]'
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-74a8f5bb-e4fd-4e2c-89b0-d2daad470a6f) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-74a8f5bb-e4fd-4e2c-89b0-d2daad470a6f) has been closed.
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-d6df32e9-6e79-4c9d-813a-3ffcecdcb305) open.
[2025-07-16T15:53:34Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-d6df32e9-6e79-4c9d-813a-3ffcecdcb305'
[2025-07-16T15:53:34Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-d6df32e9-6e79-4c9d-813a-3ffcecdcb305@6dfcc2da-2689-4b29-b538-ca48c307b383' and field mask: '[]'
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-d6df32e9-6e79-4c9d-813a-3ffcecdcb305) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-d6df32e9-6e79-4c9d-813a-3ffcecdcb305) has been closed.
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-2821351b-4bce-4a21-88a3-8f3e97a08a02) open.
[2025-07-16T15:53:34Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-2821351b-4bce-4a21-88a3-8f3e97a08a02'
[2025-07-16T15:53:34Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-2821351b-4bce-4a21-88a3-8f3e97a08a02@6dd7c678-906e-4318-b768-7717b088944d' and field mask: '[]'
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-2821351b-4bce-4a21-88a3-8f3e97a08a02) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-2821351b-4bce-4a21-88a3-8f3e97a08a02) has been closed.
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ff34bc73-ea03-48cd-93d2-fe4553c04c82) open.
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-ff34bc73-ea03-48cd-93d2-fe4553c04c82'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-ff34bc73-ea03-48cd-93d2-fe4553c04c82@92a9822a-ec27-45a7-b437-54c3a22379e8' and field mask: '[]'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ff34bc73-ea03-48cd-93d2-fe4553c04c82) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ff34bc73-ea03-48cd-93d2-fe4553c04c82) has been closed.
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "init_backend", id: "8127cd601a086390da75e0900a473ba32a0cbc32b2d7a7a82d79da50bfd23e4c" }, execution_state: ExecutionState { state: Succeeded(Ok), additional_info: "" } }]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ff9a6609-0c32-48e7-ae4b-adb06912e0f0) open.
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-ff9a6609-0c32-48e7-ae4b-adb06912e0f0'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-ff9a6609-0c32-48e7-ae4b-adb06912e0f0@a21bb32a-fa09-40dc-8efc-9dc5464bf4c0' and field mask: '[]'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ff9a6609-0c32-48e7-ae4b-adb06912e0f0) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ff9a6609-0c32-48e7-ae4b-adb06912e0f0) has been closed.
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-47059401-ee82-4d6a-8555-20d7a0122ffc) open.
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-47059401-ee82-4d6a-8555-20d7a0122ffc'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-47059401-ee82-4d6a-8555-20d7a0122ffc@b987188d-41a1-4d89-98f7-7a32d597a8d0' and field mask: '[]'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-47059401-ee82-4d6a-8555-20d7a0122ffc) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-47059401-ee82-4d6a-8555-20d7a0122ffc) has been closed.
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ca05a864-0406-46ca-a406-fa896988b48d) open.
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-ca05a864-0406-46ca-a406-fa896988b48d'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-ca05a864-0406-46ca-a406-fa896988b48d@b183034d-e338-49ef-b8c8-022a6035eef3' and field mask: '[]'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ca05a864-0406-46ca-a406-fa896988b48d) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ca05a864-0406-46ca-a406-fa896988b48d) has been closed.
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9187cba9-bd0f-4743-9f54-f081548bdfea) open.
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-9187cba9-bd0f-4743-9f54-f081548bdfea'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-9187cba9-bd0f-4743-9f54-f081548bdfea@7f3f9fc1-4a6c-4990-8447-04a841e914f1' and field mask: '[]'
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-9187cba9-bd0f-4743-9f54-f081548bdfea'
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received UpdateStateRequest from 'cli-conn-9187cba9-bd0f-4743-9f54-f081548bdfea'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateState. State 'CompleteState { desired_state: State { api_version: "v0.1", workloads: {"backend": StoredWorkloadSpec { agent: "agent_A", tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {"init_backend": AddCondSucceeded}, restart_policy: Never, runtime: "podman", runtime_config: "commandOptions:\n- -p\n- 8084:80\nimage: dotscloud/nginx:latest\n", control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] }, configs: {}, files: [] }}, configs: {} }, workload_states: WorkloadStatesMap({}), agents: AgentMap({}) }', update mask '["desiredState.workloads.backend"]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'backend' as no config is assigned to the workload
[2025-07-16T15:53:35Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'init_backend' as no config is assigned to the workload
[2025-07-16T15:53:35Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'frontend' as no config is assigned to the workload
[2025-07-16T15:53:35Z INFO  dotops::dots_server] The update has 1 new or updated workloads, 1 workloads to delete
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Send UpdateStateSuccess for request 'cli-conn-9187cba9-bd0f-4743-9f54-f081548bdfea@4d2ca308-2a56-4f80-a8b5-1e867fc23d1b'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9187cba9-bd0f-4743-9f54-f081548bdfea) has been closed.
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Stopping(WaitingToStop), additional_info: "" } }]'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-712df0fb-31f5-478e-8d1d-6b23d995eacf) open.
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-712df0fb-31f5-478e-8d1d-6b23d995eacf'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-712df0fb-31f5-478e-8d1d-6b23d995eacf@2c675956-1c1b-45b3-b52a-8b2a1eba9a73' and field mask: '[]'
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-712df0fb-31f5-478e-8d1d-6b23d995eacf) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-712df0fb-31f5-478e-8d1d-6b23d995eacf) has been closed.
[2025-07-16T15:53:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef) open.
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef@c8ed6231-c0e5-4392-80e4-660e37f2216a' and field mask: '[]'
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef'
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received UpdateStateRequest from 'cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateState. State 'CompleteState { desired_state: State { api_version: "v0.1", workloads: {}, configs: {} }, workload_states: WorkloadStatesMap({}), agents: AgentMap({}) }', update mask '["desiredState.workloads.frontend"]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'backend' as no config is assigned to the workload
[2025-07-16T15:53:35Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'init_backend' as no config is assigned to the workload
[2025-07-16T15:53:35Z INFO  dotops::dots_server] The update has 0 new or updated workloads, 1 workloads to delete
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Send UpdateStateSuccess for request 'cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef@e902b4f3-ad05-4540-a998-7780bf0c0071'
[2025-07-16T15:53:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef@4c672365-ef3c-448a-9999-6412e31e3796' and field mask: '[]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Stopping(RequestedAtRuntime), additional_info: "" } }]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Stopping(RequestedAtRuntime), additional_info: "" } }]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Removed, additional_info: "" } }]'
[2025-07-16T15:53:35Z DEBUG dotops::dots_server::delete_graph] Removed 'backend.31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50.agent_A' from delete graph.
[2025-07-16T15:53:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "cbf7a78f1de1e19a303d1a9b389f8b65ec6e4ccd767df07fc779625d03b2e136" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:53:36Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Removed, additional_info: "" } }]'
[2025-07-16T15:53:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-aecb48cb-bb70-411a-bdf8-b8d7af130cef) has been closed.
[2025-07-16T15:53:36Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "cbf7a78f1de1e19a303d1a9b389f8b65ec6e4ccd767df07fc779625d03b2e136" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:53:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f66e14bc-b8a7-431c-a212-1a133f476f55) open.
[2025-07-16T15:53:36Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-f66e14bc-b8a7-431c-a212-1a133f476f55'
[2025-07-16T15:53:36Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-f66e14bc-b8a7-431c-a212-1a133f476f55@ee5bc1fb-525e-424f-bf72-70d482526de5' and field mask: '[]'
[2025-07-16T15:53:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f66e14bc-b8a7-431c-a212-1a133f476f55) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f66e14bc-b8a7-431c-a212-1a133f476f55) has been closed.
[2025-07-16T15:53:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ebf1c1d6-7ea0-4e78-9f3b-b1e04f5bee77) open.
[2025-07-16T15:53:36Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-ebf1c1d6-7ea0-4e78-9f3b-b1e04f5bee77'
[2025-07-16T15:53:36Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-ebf1c1d6-7ea0-4e78-9f3b-b1e04f5bee77@09298b3a-8bf9-4d98-b928-2ad9f0898127' and field mask: '[]'
[2025-07-16T15:53:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ebf1c1d6-7ea0-4e78-9f3b-b1e04f5bee77) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:53:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-ebf1c1d6-7ea0-4e78-9f3b-b1e04f5bee77) has been closed.
