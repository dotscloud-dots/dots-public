[2025-07-16T15:37:35Z DEBUG dotops] No config file found at default path '/etc/dots/dotctl-dotops.conf'. Using cli arguments and environment variables only.
[2025-07-16T15:37:35Z DEBUG dotops] Starting the Dots dotops with 
    	dotops address: '127.0.0.1:25551', 
    	startup manifest path: '/__w/dot/dot/tests/resources/configs/update_workloads_pending_delete.yaml'
[2025-07-16T15:37:35Z WARN  grpc::server] !!!DOTOPS IS STARTED IN INSECURE MODE (-k, --insecure) -> TLS is disabled!!!
[2025-07-16T15:37:35Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'backend' as no config is assigned to the workload
[2025-07-16T15:37:35Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'frontend' as no config is assigned to the workload
[2025-07-16T15:37:35Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'init_backend' as no config is assigned to the workload
[2025-07-16T15:37:35Z INFO  dotops::dots_server] Starting...
[2025-07-16T15:37:35Z DEBUG dotops::dots_server] Start listening to agents...
[2025-07-16T15:37:35Z INFO  grpc::from_server_proxy] Agent agent_A not found, workloads not sent. Waiting for dot to connect.
[2025-07-16T15:37:35Z INFO  dotops::dots_server] Received AgentHello from 'agent_A'
[2025-07-16T15:37:35Z DEBUG dotops::dots_server] No workload states to send.
[2025-07-16T15:37:35Z DEBUG dotops::dots_server] Sending initial ServerHello to dot 'agent_A' with added workloads: '[WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "init_backend", id: "8127cd601a086390da75e0900a473ba32a0cbc32b2d7a7a82d79da50bfd23e4c" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandArgs: [\"echo\", \"init_backend\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }, WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {"backend": AddCondRunning}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandOptions: [\"-p\", \"8083:80\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }, WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {"init_backend": AddCondSucceeded}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandOptions: [\"-p\", \"8082:80\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }]'
[2025-07-16T15:37:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-dca3e422-2a33-497d-a9e3-cdcc499cfcec) open.
[2025-07-16T15:37:35Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-dca3e422-2a33-497d-a9e3-cdcc499cfcec'
[2025-07-16T15:37:35Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-dca3e422-2a33-497d-a9e3-cdcc499cfcec@9ba78251-a4d0-49cb-a617-34dc840a3799' and field mask: '[]'
[2025-07-16T15:37:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-dca3e422-2a33-497d-a9e3-cdcc499cfcec) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:35Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-dca3e422-2a33-497d-a9e3-cdcc499cfcec) has been closed.
[2025-07-16T15:37:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Pending(WaitingToStart), additional_info: "" } }]'
[2025-07-16T15:37:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Pending(WaitingToStart), additional_info: "" } }]'
[2025-07-16T15:37:35Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "init_backend", id: "8127cd601a086390da75e0900a473ba32a0cbc32b2d7a7a82d79da50bfd23e4c" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6b18a61e-9568-4144-8dbd-55883ccded7b) open.
[2025-07-16T15:37:36Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-6b18a61e-9568-4144-8dbd-55883ccded7b'
[2025-07-16T15:37:36Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-6b18a61e-9568-4144-8dbd-55883ccded7b@30cc1c19-033b-4356-87a4-4599ca8862d0' and field mask: '[]'
[2025-07-16T15:37:36Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "init_backend", id: "8127cd601a086390da75e0900a473ba32a0cbc32b2d7a7a82d79da50bfd23e4c" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6b18a61e-9568-4144-8dbd-55883ccded7b) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: connection reset\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6b18a61e-9568-4144-8dbd-55883ccded7b) has been closed.
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c8c168ee-cecf-4758-992b-fe5add0f88fc) open.
[2025-07-16T15:37:36Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-c8c168ee-cecf-4758-992b-fe5add0f88fc'
[2025-07-16T15:37:36Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-c8c168ee-cecf-4758-992b-fe5add0f88fc@be43eb6d-11a7-40d6-b9fa-a2b6a66c73db' and field mask: '[]'
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c8c168ee-cecf-4758-992b-fe5add0f88fc) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c8c168ee-cecf-4758-992b-fe5add0f88fc) has been closed.
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c12c7de7-b3fd-4c54-80a7-c4535c8c1cde) open.
[2025-07-16T15:37:36Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-c12c7de7-b3fd-4c54-80a7-c4535c8c1cde'
[2025-07-16T15:37:36Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-c12c7de7-b3fd-4c54-80a7-c4535c8c1cde@6033f1af-d61d-42de-86ce-5c28a71eb9ae' and field mask: '[]'
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c12c7de7-b3fd-4c54-80a7-c4535c8c1cde) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c12c7de7-b3fd-4c54-80a7-c4535c8c1cde) has been closed.
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-00c654ef-fd44-4c23-bc55-2db542f1c9ee) open.
[2025-07-16T15:37:36Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-00c654ef-fd44-4c23-bc55-2db542f1c9ee'
[2025-07-16T15:37:36Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-00c654ef-fd44-4c23-bc55-2db542f1c9ee@66930b12-c8af-430e-81a1-adc768f2955e' and field mask: '[]'
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-00c654ef-fd44-4c23-bc55-2db542f1c9ee) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:36Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-00c654ef-fd44-4c23-bc55-2db542f1c9ee) has been closed.
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8f2981eb-c944-4977-aaac-bee35e6ef501) open.
[2025-07-16T15:37:37Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-8f2981eb-c944-4977-aaac-bee35e6ef501'
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-8f2981eb-c944-4977-aaac-bee35e6ef501@707207d7-ec17-4f9f-b6b2-133d475ed22c' and field mask: '[]'
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8f2981eb-c944-4977-aaac-bee35e6ef501) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8f2981eb-c944-4977-aaac-bee35e6ef501) has been closed.
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-903bd59d-7515-432d-a7eb-ffe038424347) open.
[2025-07-16T15:37:37Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-903bd59d-7515-432d-a7eb-ffe038424347'
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-903bd59d-7515-432d-a7eb-ffe038424347@fda77a2f-6cbf-427e-9632-75d8ccbf39e3' and field mask: '[]'
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-903bd59d-7515-432d-a7eb-ffe038424347) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-903bd59d-7515-432d-a7eb-ffe038424347) has been closed.
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "init_backend", id: "8127cd601a086390da75e0900a473ba32a0cbc32b2d7a7a82d79da50bfd23e4c" }, execution_state: ExecutionState { state: Succeeded(Ok), additional_info: "" } }]'
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-e19c8bce-f1d8-4f58-8a8d-246950b98720) open.
[2025-07-16T15:37:37Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-e19c8bce-f1d8-4f58-8a8d-246950b98720'
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-e19c8bce-f1d8-4f58-8a8d-246950b98720@97e81f32-766b-445d-93d8-55d5fb91ee32' and field mask: '[]'
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-e19c8bce-f1d8-4f58-8a8d-246950b98720) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-e19c8bce-f1d8-4f58-8a8d-246950b98720) has been closed.
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-d7291646-f575-48be-9532-9c532f3c96f3) open.
[2025-07-16T15:37:37Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-d7291646-f575-48be-9532-9c532f3c96f3'
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-d7291646-f575-48be-9532-9c532f3c96f3@141af61c-d9f0-4b19-b610-f84538c8c118' and field mask: '[]'
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-d7291646-f575-48be-9532-9c532f3c96f3) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-d7291646-f575-48be-9532-9c532f3c96f3) has been closed.
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9fe8f9d9-a539-412a-aa0b-0a7d7483e8c2) open.
[2025-07-16T15:37:37Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-9fe8f9d9-a539-412a-aa0b-0a7d7483e8c2'
[2025-07-16T15:37:37Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-9fe8f9d9-a539-412a-aa0b-0a7d7483e8c2@131cf325-dc5d-46a4-8ba4-aa796fe6d377' and field mask: '[]'
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9fe8f9d9-a539-412a-aa0b-0a7d7483e8c2) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:37Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-9fe8f9d9-a539-412a-aa0b-0a7d7483e8c2) has been closed.
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-2a99badc-4045-44b4-a7c1-ba0076ce9abc) open.
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-2a99badc-4045-44b4-a7c1-ba0076ce9abc'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-2a99badc-4045-44b4-a7c1-ba0076ce9abc@6a6996d8-62a9-4e85-857a-841e267aa416' and field mask: '[]'
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-2a99badc-4045-44b4-a7c1-ba0076ce9abc'
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received UpdateStateRequest from 'cli-conn-2a99badc-4045-44b4-a7c1-ba0076ce9abc'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateState. State 'CompleteState { desired_state: State { api_version: "v0.1", workloads: {"backend": StoredWorkloadSpec { agent: "agent_A", tags: [Tag { key: "owner", value: "Dots team" }], dependencies: {"init_backend": AddCondSucceeded}, restart_policy: Never, runtime: "podman", runtime_config: "commandOptions:\n- -p\n- 8084:80\nimage: dotscloud/nginx:latest\n", control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] }, configs: {}, files: [] }}, configs: {} }, workload_states: WorkloadStatesMap({}), agents: AgentMap({}) }', update mask '["desiredState.workloads.backend"]'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'init_backend' as no config is assigned to the workload
[2025-07-16T15:37:38Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'backend' as no config is assigned to the workload
[2025-07-16T15:37:38Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'frontend' as no config is assigned to the workload
[2025-07-16T15:37:38Z INFO  dotops::dots_server] The update has 1 new or updated workloads, 1 workloads to delete
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Send UpdateStateSuccess for request 'cli-conn-2a99badc-4045-44b4-a7c1-ba0076ce9abc@31306d64-f215-420d-a491-9e6ae97acb1f'
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-2a99badc-4045-44b4-a7c1-ba0076ce9abc) has been closed.
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Stopping(WaitingToStop), additional_info: "" } }]'
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8665e00f-7301-4aee-8e7a-dcf4d2518e61) open.
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-8665e00f-7301-4aee-8e7a-dcf4d2518e61'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-8665e00f-7301-4aee-8e7a-dcf4d2518e61@ff1d81d1-ea0e-4e17-8c17-764efb59f8c1' and field mask: '[]'
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8665e00f-7301-4aee-8e7a-dcf4d2518e61) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8665e00f-7301-4aee-8e7a-dcf4d2518e61) has been closed.
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130) open.
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130@a6dbe5e2-f342-4949-b4d4-402adad48bfa' and field mask: '[]'
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130'
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received UpdateStateRequest from 'cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateState. State 'CompleteState { desired_state: State { api_version: "v0.1", workloads: {}, configs: {} }, workload_states: WorkloadStatesMap({}), agents: AgentMap({}) }', update mask '["desiredState.workloads.frontend"]'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'backend' as no config is assigned to the workload
[2025-07-16T15:37:38Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'init_backend' as no config is assigned to the workload
[2025-07-16T15:37:38Z INFO  dotops::dots_server] The update has 0 new or updated workloads, 1 workloads to delete
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Send UpdateStateSuccess for request 'cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130@83b49a84-d74e-4da0-b11a-4acd4399ea91'
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130@c1ba8cc7-b98b-47b9-b18f-42cb0eaf404e' and field mask: '[]'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Stopping(RequestedAtRuntime), additional_info: "" } }]'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Stopping(RequestedAtRuntime), additional_info: "" } }]'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "frontend", id: "e1c03b39f254c88d21f6011502860cd6770108161152d7aa3017bdcbe5d6f086" }, execution_state: ExecutionState { state: Removed, additional_info: "" } }]'
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-b20f1fe5-b2d9-440a-b9d2-58bc0d804130) has been closed.
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-e17f2966-8db5-49c9-b512-e098a68cd031) open.
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-e17f2966-8db5-49c9-b512-e098a68cd031'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-e17f2966-8db5-49c9-b512-e098a68cd031@2dd6bca1-564f-48a1-9a87-72b996759cc3' and field mask: '[]'
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-e17f2966-8db5-49c9-b512-e098a68cd031) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-e17f2966-8db5-49c9-b512-e098a68cd031) has been closed.
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-104a528b-ddd0-42d9-b226-b999bbe6086d) open.
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-104a528b-ddd0-42d9-b226-b999bbe6086d'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-104a528b-ddd0-42d9-b226-b999bbe6086d@e98932d9-3746-4f2e-b6ad-8bcb860590e5' and field mask: '[]'
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-104a528b-ddd0-42d9-b226-b999bbe6086d) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-104a528b-ddd0-42d9-b226-b999bbe6086d) has been closed.
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50" }, execution_state: ExecutionState { state: Removed, additional_info: "" } }]'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server::delete_graph] Removed 'backend.31c46be0aa2fd9e30fb7f6f5a19eea72c1a66f6bac0624f183bd5db98eb68c50.agent_A' from delete graph.
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "cbf7a78f1de1e19a303d1a9b389f8b65ec6e4ccd767df07fc779625d03b2e136" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "backend", id: "cbf7a78f1de1e19a303d1a9b389f8b65ec6e4ccd767df07fc779625d03b2e136" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-696e5ac8-7b66-4e60-86f8-03685fd974bc) open.
[2025-07-16T15:37:38Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-696e5ac8-7b66-4e60-86f8-03685fd974bc'
[2025-07-16T15:37:38Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-696e5ac8-7b66-4e60-86f8-03685fd974bc@5c3364fd-997a-493d-aa91-fd772025c660' and field mask: '[]'
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-696e5ac8-7b66-4e60-86f8-03685fd974bc) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:37:38Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-696e5ac8-7b66-4e60-86f8-03685fd974bc) has been closed.
