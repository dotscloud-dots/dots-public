[2025-07-16T15:36:32Z DEBUG dotops] No config file found at default path '/etc/dots/dotctl-dotops.conf'. Using cli arguments and environment variables only.
[2025-07-16T15:36:32Z DEBUG dotops] Starting the Dots dotops with 
    	dotops address: '127.0.0.1:25551', 
    	startup manifest path: '/tmp/tmp2wktfkcq/startup_config.yaml'
[2025-07-16T15:36:32Z WARN  grpc::server] !!!DOTOPS IS STARTED IN INSECURE MODE (-k, --insecure) -> TLS is disabled!!!
[2025-07-16T15:36:32Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'controller' as no config is assigned to the workload
[2025-07-16T15:36:32Z DEBUG dotops::dots_server::config_renderer] Skipping to render workload 'simple_existing' as no config is assigned to the workload
[2025-07-16T15:36:32Z INFO  dotops::dots_server] Starting...
[2025-07-16T15:36:32Z DEBUG dotops::dots_server] Start listening to agents...
[2025-07-16T15:36:32Z INFO  grpc::from_server_proxy] Agent agent_A not found, workloads not sent. Waiting for dot to connect.
[2025-07-16T15:36:32Z INFO  dotops::dots_server] Received AgentHello from 'agent_A'
[2025-07-16T15:36:32Z DEBUG dotops::dots_server] No workload states to send.
[2025-07-16T15:36:32Z DEBUG dotops::dots_server] Sending initial ServerHello to dot 'agent_A' with added workloads: '[WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "controller", id: "20cd29e5b605a3926243c97c739614d83ffac0e182be36602c7e19425b6b907a" }, tags: [], dependencies: {}, restart_policy: Never, runtime: "podman", runtime_config: "commandOptions: [\"--mount=type=bind,source=/tmp/tmp2wktfkcq,destination=/data/\", \"--restart=no\"]\nimage: dotscloud/tests-control_interface_tester:manual-build\ncommandArgs: [\"/data/commands.yaml\", \"/data/output.yaml\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [StateRule(StateRule { operation: Read, filter_mask: ["*"] })], deny_rules: [] } }, WorkloadSpec { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "simple_existing", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, tags: [], dependencies: {}, restart_policy: Never, runtime: "podman", runtime_config: "image: dotscloud/nginx:latest\ncommandArgs: [ \"echo\", \"Hello Dots\"]\n", files: [], control_interface_access: ControlInterfaceAccess { allow_rules: [], deny_rules: [] } }]'
[2025-07-16T15:36:32Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-17628d45-e3df-44b9-ba88-f7158f2986ed) open.
[2025-07-16T15:36:32Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-17628d45-e3df-44b9-ba88-f7158f2986ed'
[2025-07-16T15:36:32Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-17628d45-e3df-44b9-ba88-f7158f2986ed@8016d4f0-4d82-4335-b8ae-661acac71714' and field mask: '[]'
[2025-07-16T15:36:32Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-17628d45-e3df-44b9-ba88-f7158f2986ed) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:32Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-17628d45-e3df-44b9-ba88-f7158f2986ed) has been closed.
[2025-07-16T15:36:32Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "controller", id: "20cd29e5b605a3926243c97c739614d83ffac0e182be36602c7e19425b6b907a" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:36:32Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "simple_existing", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Pending(Starting), additional_info: "Triggered at runtime." } }]'
[2025-07-16T15:36:33Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "simple_existing", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Running(Ok), additional_info: "" } }]'
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f917469e-5798-432e-a4c5-bf494c96c5e0) open.
[2025-07-16T15:36:33Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-f917469e-5798-432e-a4c5-bf494c96c5e0'
[2025-07-16T15:36:33Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-f917469e-5798-432e-a4c5-bf494c96c5e0@af3f9e76-3b5d-4fd6-ad9d-1d76c80b55ff' and field mask: '[]'
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f917469e-5798-432e-a4c5-bf494c96c5e0) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f917469e-5798-432e-a4c5-bf494c96c5e0) has been closed.
[2025-07-16T15:36:33Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "controller", id: "20cd29e5b605a3926243c97c739614d83ffac0e182be36602c7e19425b6b907a" }, execution_state: ExecutionState { state: Stopping(Stopping), additional_info: "stopped" } }]'
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6afa762b-30d5-437e-8799-739232159527) open.
[2025-07-16T15:36:33Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-6afa762b-30d5-437e-8799-739232159527'
[2025-07-16T15:36:33Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-6afa762b-30d5-437e-8799-739232159527@a64ead79-f4f4-4537-86f0-71bbbb518e62' and field mask: '[]'
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6afa762b-30d5-437e-8799-739232159527) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6afa762b-30d5-437e-8799-739232159527) has been closed.
[2025-07-16T15:36:33Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "simple_existing", id: "3d22c78f20862b31febceeda042aa21a11e808a8e573dfde49b9280d9592531e" }, execution_state: ExecutionState { state: Succeeded(Ok), additional_info: "" } }]'
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8f8d3336-1258-4f7e-8242-1d1c15246b2c) open.
[2025-07-16T15:36:33Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-8f8d3336-1258-4f7e-8242-1d1c15246b2c'
[2025-07-16T15:36:33Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-8f8d3336-1258-4f7e-8242-1d1c15246b2c@d9a39e93-1440-4da6-9fa5-68f6b5f3bfc6' and field mask: '[]'
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8f8d3336-1258-4f7e-8242-1d1c15246b2c) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-8f8d3336-1258-4f7e-8242-1d1c15246b2c) has been closed.
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c82ed111-fc57-48c0-9eef-321c5ebe5e1c) open.
[2025-07-16T15:36:33Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-c82ed111-fc57-48c0-9eef-321c5ebe5e1c'
[2025-07-16T15:36:33Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-c82ed111-fc57-48c0-9eef-321c5ebe5e1c@7a9f0cf4-4f9a-4a2e-ade0-3fe321ae0b97' and field mask: '[]'
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c82ed111-fc57-48c0-9eef-321c5ebe5e1c) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:33Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-c82ed111-fc57-48c0-9eef-321c5ebe5e1c) has been closed.
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f6bfd6c9-ec3d-4128-9e42-d90722e3583e) open.
[2025-07-16T15:36:34Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-f6bfd6c9-ec3d-4128-9e42-d90722e3583e'
[2025-07-16T15:36:34Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-f6bfd6c9-ec3d-4128-9e42-d90722e3583e@a7c854db-389b-4f19-b880-eb677927b4f3' and field mask: '[]'
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f6bfd6c9-ec3d-4128-9e42-d90722e3583e) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-f6bfd6c9-ec3d-4128-9e42-d90722e3583e) has been closed.
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-bd0ad86a-74d8-44df-b72b-944500f26da5) open.
[2025-07-16T15:36:34Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-bd0ad86a-74d8-44df-b72b-944500f26da5'
[2025-07-16T15:36:34Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-bd0ad86a-74d8-44df-b72b-944500f26da5@d84665b8-02c6-4c48-b4f7-a29ab061d0f3' and field mask: '[]'
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-bd0ad86a-74d8-44df-b72b-944500f26da5) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-bd0ad86a-74d8-44df-b72b-944500f26da5) has been closed.
[2025-07-16T15:36:34Z DEBUG dotops::dots_server] Received UpdateWorkloadState: '[WorkloadState { instance_name: WorkloadInstanceName { agent_name: "agent_A", workload_name: "controller", id: "20cd29e5b605a3926243c97c739614d83ffac0e182be36602c7e19425b6b907a" }, execution_state: ExecutionState { state: Succeeded(Ok), additional_info: "" } }]'
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6ba699e3-55b4-4439-9228-9eb2ff8a6b73) open.
[2025-07-16T15:36:34Z DEBUG grpc::to_server_proxy] Received Request from 'cli-conn-6ba699e3-55b4-4439-9228-9eb2ff8a6b73'
[2025-07-16T15:36:34Z DEBUG dotops::dots_server] Received CompleteStateRequest with id 'cli-conn-6ba699e3-55b4-4439-9228-9eb2ff8a6b73@6f8e2f98-f818-47d1-9bdd-661e77ea7afa' and field mask: '[]'
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6ba699e3-55b4-4439-9228-9eb2ff8a6b73) failed with Err(ConnectionInterrupted("status: Unknown, message: \"h2 protocol error: error reading a body from connection: stream closed because of a broken pipe\", details: [], metadata: MetadataMap { headers: {} }")).
[2025-07-16T15:36:34Z DEBUG grpc::grpc_cli_connection] Connection to CLI (name=cli-conn-6ba699e3-55b4-4439-9228-9eb2ff8a6b73) has been closed.
